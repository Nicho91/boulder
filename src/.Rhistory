load("../data/phosPrediction.rda")
boxplot(phosfax_10m$op_conc_mg_p_l)
boxplot(mixed_liqour_hourly$op_mg_p_l)
plot(phos.data$op_mg_p_l, phos.data$op_conc_mg_p_l_hourly)
abline( a=0,b=1, col = 'red', lwd = 1, lty=2 )
boxplot(phos.data$centrate_gal)
test <- phos.data.clean[1:57,]
##################################
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
#test2 <- ferricphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test2$date, test2$op_conc_mg_p_l, cex = .25, main = "Ferric effluent OP")
alumphos <- phosfax.10m %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
boxplot(alumphos$op_conc_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
#test <- alumphos[-c(1696:1697, 1709),]
#test %>% filter(op_conc_mg_p_l > 1.5)
#boxplot(test$op_conc_mg_p_l)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
#test3 <- alumphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test3$date, test3$op_conc_mg_p_l, cex = .25, main = "Alum effluent OP")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
# make sure src is the current working directory
load("../data/boulderMoWater.rda")
load("../data/phosPrediction.rda")
boxplot(phosfax_10m$op_conc_mg_p_l)
boxplot(mixed_liqour_hourly$op_mg_p_l)
plot(phos.data$op_mg_p_l, phos.data$op_conc_mg_p_l_hourly)
abline( a=0,b=1, col = 'red', lwd = 1, lty=2 )
boxplot(phos.data$centrate_gal)
test <- phos.data.clean[1:57,]
##################################
del <- c("delta_pct", "detla_mg_p_l", "daft_sub_gpm", "daft_sub_gal", "primary_sludge_gmp_hourly_avg", "twas_flow_gpm_hourly_avg")
phos.data.clean <- phos.data %>% select(-all_of(del))
phos.data.clean <- phos.data.clean[15:107,]
phos.data.clean$centrate_gal[is.na(phos.data.clean$centrate_gal)] <- 0
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
#test2 <- ferricphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test2$date, test2$op_conc_mg_p_l, cex = .25, main = "Ferric effluent OP")
alumphos <- phosfax.10m %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
boxplot(alumphos$op_conc_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
#test <- alumphos[-c(1696:1697, 1709),]
#test %>% filter(op_conc_mg_p_l > 1.5)
#boxplot(test$op_conc_mg_p_l)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
#test3 <- alumphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test3$date, test3$op_conc_mg_p_l, cex = .25, main = "Alum effluent OP")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
load("../data/phosPrediction.rda")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
# make sure src is the current working directory
load("../data/boulderMoWater.rda")
load("../data/phosPrediction.rda")
boxplot(phosfax_10m$op_conc_mg_p_l)
boxplot(mixed_liqour_hourly$op_mg_p_l)
plot(phos.data$op_mg_p_l, phos.data$op_conc_mg_p_l_hourly)
abline( a=0,b=1, col = 'red', lwd = 1, lty=2 )
boxplot(phos.data$centrate_gal)
test <- phos.data.clean[1:57,]
##################################
del <- c("delta_pct", "detla_mg_p_l", "daft_sub_gpm", "daft_sub_gal", "primary_sludge_gmp_hourly_avg", "twas_flow_gpm_hourly_avg")
phos.data.clean <- phos.data %>% select(-all_of(del))
phos.data.clean <- phos.data.clean[15:107,]
phos.data.clean$centrate_gal[is.na(phos.data.clean$centrate_gal)] <- 0
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
#test2 <- ferricphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test2$date, test2$op_conc_mg_p_l, cex = .25, main = "Ferric effluent OP")
alumphos <- phosfax.10m %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
boxplot(alumphos$op_conc_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
#test <- alumphos[-c(1696:1697, 1709),]
#test %>% filter(op_conc_mg_p_l > 1.5)
#boxplot(test$op_conc_mg_p_l)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
#test3 <- alumphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test3$date, test3$op_conc_mg_p_l, cex = .25, main = "Alum effluent OP")
View(phos.data.clean)
ferric <- phos.data.clean %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
View(ferric)
ts.plot(ferric$op_mg_p_l)
plot(ferric$date, ferric$op_mg_p_l)
ts.plot(ferric$op_mg_p_l)
ts.plot(ferric$op_mg_p_l)
alum <- phos.data.clean %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
plot(alum$date, alum$op_mg_p_l)
plot(ferric$date, ferric$op_mg_p_l)
plot(alum$date, alum$op_mg_p_l)
ts.plot(alum$op_mg_p_l)
plot(alum$date, alum$op_mg_p_l)
ts.plot(alum$op_mg_p_l)
View(alum)
View(phos.data)
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date = date, hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date = date, hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date = date, hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date", "hour"))
phos.data <- inner_join(temp, flow.hrly, by = c("date", "hour"))
save(flow.hrly, phosfax.hrly, mix.liq.hrly, phos.data, file = "../data/phosPrediction.rda")
rm( list = ls() )
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
# make sure src is the current working directory
load("../data/boulderMoWater.rda")
load("../data/phosPrediction.rda")
boxplot(phosfax_10m$op_conc_mg_p_l)
boxplot(mixed_liqour_hourly$op_mg_p_l)
plot(phos.data$op_mg_p_l, phos.data$op_conc_mg_p_l_hourly)
abline( a=0,b=1, col = 'red', lwd = 1, lty=2 )
boxplot(phos.data$centrate_gal)
test <- phos.data.clean[1:57,]
##################################
del <- c("delta_pct", "detla_mg_p_l", "daft_sub_gpm", "daft_sub_gal", "primary_sludge_gmp_hourly_avg", "twas_flow_gpm_hourly_avg")
phos.data.clean <- phos.data %>% select(-all_of(del))
phos.data.clean <- phos.data.clean[15:107,]
phos.data.clean$centrate_gal[is.na(phos.data.clean$centrate_gal)] <- 0
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
#test2 <- ferricphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test2$date, test2$op_conc_mg_p_l, cex = .25, main = "Ferric effluent OP")
alumphos <- phosfax.10m %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
boxplot(alumphos$op_conc_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
#test <- alumphos[-c(1696:1697, 1709),]
#test %>% filter(op_conc_mg_p_l > 1.5)
#boxplot(test$op_conc_mg_p_l)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
#test3 <- alumphos %>% filter(op_conc_mg_p_l != .0004)
#plot(test3$date, test3$op_conc_mg_p_l, cex = .25, main = "Alum effluent OP")
ferric <- phos.data.clean %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
plot(ferric$date, ferric$op_mg_p_l)
alum <- phos.data.clean %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
plot(alum$date, alum$op_mg_p_l)
View(mix.liq.hrly)
View(phos.data)
View(phos.data.clean)
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
# make sure src is the current working directory
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date = date, hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date = date, hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date = date, hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date", "hour"))
phos.data <- inner_join(temp, flow.hrly, by = c("date", "hour"))
save(flow.hrly, phosfax.hrly, mix.liq.hrly, phos.data, file = "../data/phosPrediction.rda")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
# make sure src is the current working directory
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date, hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date, hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date, hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date", "hour"))
phos.data <- inner_join(temp, flow.hrly, by = c("date", "hour"))
save(flow.hrly, phosfax.hrly, mix.liq.hrly, phos.data, file = "../data/phosPrediction.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date, hour) %>%
ungroup()
View(flow.hrly)
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date, hour) %>%
ungroup()
View(mixed_liqour_hourly)
phosfax.hrly <- phosfax.10m %>%
group_by(date, hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
View(phosfax.hrly)
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date", "hour"))
View(temp)
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date1 = date(date), hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date1 = date(date), hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date1 = date(date), hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date, hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date, hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date, hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date"))
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
flow.hrly <- as_tibble(flow_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
mix.liq.hrly <- as_tibble(mixed_liqour_hourly) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
flow.hrly <- flow.hrly %>%
group_by(date = date(date), hour) %>%
ungroup()
mix.liq.hrly <- mix.liq.hrly %>%
group_by(date = date(date), hour) %>%
ungroup()
phosfax.hrly <- phosfax.10m %>%
group_by(date = date(date), hour) %>%
summarise(op_conc_mg_p_l_hourly = mean(op_conc_mg_p_l, na.rm = TRUE)) %>%
ungroup()
temp <- inner_join(mix.liq.hrly, phosfax.hrly, by=c("date", "hour"))
phos.data <- inner_join(temp, flow.hrly, by = c("date", "hour"))
save(flow.hrly, phosfax.hrly, mix.liq.hrly, phos.data, file = "../data/phosPrediction.rda")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
load("../data/boulderMoWater.rda")
load("../data/phosPrediction.rda")
boxplot(phosfax_10m$op_conc_mg_p_l)
boxplot(mixed_liqour_hourly$op_mg_p_l)
plot(phos.data$op_mg_p_l, phos.data$op_conc_mg_p_l_hourly)
abline( a=0,b=1, col = 'red', lwd = 1, lty=2 )
boxplot(phos.data$centrate_gal)
test <- phos.data.clean[1:57,]
##################################
del <- c("delta_pct", "detla_mg_p_l", "daft_sub_gpm", "daft_sub_gal", "primary_sludge_gmp_hourly_avg", "twas_flow_gpm_hourly_avg")
phos.data.clean <- phos.data %>% select(-all_of(del))
phos.data.clean <- phos.data.clean[15:107,]
phos.data.clean$centrate_gal[is.na(phos.data.clean$centrate_gal)] <- 0
##################################
del <- c("delta_pct", "detla_mg_p_l", "daft_sub_gpm", "daft_sub_gal", "primary_sludge_gmp_hourly_avg", "twas_flow_gpm_hourly_avg")
phosfax.10m <- as_tibble(phosfax_10m) %>%
mutate(hour = hour(date)) %>%
select(date, hour, everything())
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
alumphos <- phosfax.10m %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
boxplot(alumphos$op_conc_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
ferric <- phos.data.clean %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
plot(ferric$date, ferric$op_mg_p_l)
alum <- phos.data.clean %>%
filter(date >= ymd("2019-10-21")) %>%
filter(date <= ymd("2019-12-15"))
plot(alum$date, alum$op_mg_p_l)
ts.plot(alum$op_mg_p_l)
ts.plot(ferric$op_mg_p_l)
alumphos %>%
filter(op_conc_mg_p_l > 6)
plot(alumphos$date, alumphos$op_conc_mg_p_l,
cex = .25,
main = "Alum effluent OP",
ylim = c(0,4))
ferric <- phos.data.clean %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-09-07"))
plot(ferric$date, ferric$op_mg_p_l)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
View(avg_9_to_10_daily)
View(avg_9_to_10_daily)
View(mixed_liqour_hourly)
View(phos.data.clean)
#Dosing Daily
##Only Ferric dosing
ferricdose <- subset(dosing_daily, coagulant == "Ferric")
View(ferricdose)
boxplot(ferricdose$flow_gal_day)
boxplot(ferricdose$)
boxplot(ferricdose$flow_avg_ppmv)
boxplot(ferricdose$solution_mass_lbs_day)
boxplot(ferricdose$salt_mass_kg_day)
boxplot(ferricdose$mols_of_metal_kmol_day)
View(phos.data.clean)
ferricphos <- phosfax.10m %>%
filter(date(date) >= ymd("2019-08-15")) %>%
filter(date(date) <= ymd("2019-10-20"))
boxplot(ferricphos$op_conc_mg_p_l)
ferricphos %>%
filter(op_conc_mg_p_l > 4)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5))
View(dosing_daily)
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5),
col = dosing_daily$coagulant[46:112])
plot(ferricphos$date, ferricphos$op_conc_mg_p_l,
cex = .25,
main = "Ferric effluent OP",
ylim = c(0,3.5),
col = as.factor(dosing_daily$coagulant[46:112]))
View(phos.data.clean)
View(dosing_daily)
test<- inner_join(phos.data.clean, dosing_daily[,1:2], by = c("date"))
View(test)
View(phos.data.clean)
View(phosfax_10m)
View(flow.hrly)
##No dosing
nodose <- subset(dosing_daily, coagulant == "None")
View(nodose)
