temp <- final_data %>% filter(hour(date) == i & is.na(mlws_flow_gpm))
value <- final_data %>%
filter(hour(date) == i) %>%
select(mlws_flow_gpm) %>%
summarise(mean(mlws_flow_gpm, na.rm = TRUE))
final_data$mlws_flow_gpm[final_data$date == temp$date] <- as.numeric(value)
}
for (i in 7:13) {
temp <- final_data %>% filter(hour(date) == i & is.na(abi_mgd))
value <- final_data %>%
filter(hour(date) == i) %>%
select(abi_mgd) %>%
summarise(mean(abi_mgd, na.rm = TRUE))
final_data$abi_mgd[final_data$date == temp$date] <- as.numeric(value)
temp <- final_data %>% filter(hour(date) == i & is.na(ras_gpm))
value <- final_data %>%
filter(hour(date) == i) %>%
select(ras_gpm) %>%
summarise(mean(ras_gpm, na.rm = TRUE))
final_data$ras_gpm[final_data$date == temp$date] <- as.numeric(value)
}
final_data <- final_data %>%
filter(mlws_flow_gpm > 100) # SCADA system down
ferr_data <- final_data %>% filter(coagulant == "Ferric")
alum_data <- final_data %>% filter(coagulant == "Alum")
save(final_data, ferr_data, alum_data, file = "../data/final-data.rda")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
library(latex2exp)
library(reshape2)
# make sure src is the current working directory
load("../data/final-data.rda")
load("../data/boulderMoWater.rda")
# display the number of observations for each type of coagulant
table(final_data$coagulant)
# average was found by hour maybe do a moving average instead?
# time series plots
ts.plot(alum_data$op_conc_mg_p_l_hourly)
alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
# gap in november looking at this variable at original time scale no average
alumphos <- phosfax_10m %>% # phosfax only alum coagulant every 10 minutes
filter(date >= ymd("2019-10-22")) %>%
filter(date <= ymd("2019-12-15"))
rects1 <- data.frame(xstart = as.POSIXct('2019-11-06 15:00:00'),
xend = as.POSIXct('2019-11-13 00:00:00'))
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = 0, ymax = 2.5),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
# comparing this to above we see 11/18 - 11/25 our merged data doesnt exist. a lot of outliers in this time period > 2
# what occured between 08/28 - 09/02
ts.plot(ferr_data$op_conc_mg_p_l_hourly)
ferr_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Ferric OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate (mg/L)") +
theme(plot.title = element_text(face="bold"))
# under origina time scale we see the same issue occuring
ferrphos <- phosfax_10m %>%
filter(date >= ymd("2019-08-15")) %>%
filter(date <= ymd("2019-09-07"))
rects2 <- data.frame(xstart = as.POSIXct('2019-08-30 15:00:00'),
xend = as.POSIXct('2019-09-02 10:00:00'))
ferrphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Ferric Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects2, aes(xmin = xstart, xmax = xend,
ymin = -0.15, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
ferr_data %>% ggplot() +
geom_point(aes(date, op_mg_p_l), col = "blue") +
geom_point(aes(date, op_conc_mg_p_l_hourly), col = "red")
alum_data %>% ggplot() +
geom_point(aes(date, op_mg_p_l), col = "blue") +
geom_point(aes(date, op_conc_mg_p_l_hourly), col = "red")
# shows linear relationship shifted from effluent being less due to dosing
final_data %>% ggplot() +
geom_point(aes(op_mg_p_l, op_conc_mg_p_l_hourly))
ferr_data <- ferr_data %>% mutate(hour = hour(date))
alum_data <- alum_data %>% mutate(hour = hour(date))
alum_melt1 <- melt(alum_data[,c(8,15)], id.vars = "hour")
alum_melt2 <- melt(alum_data[,c(13,15)], id.vars = "hour")
alum_melt3 <- melt(alum_data[,c(9:10,15)], id.vars = "hour")
alum_melt4 <- melt(alum_data[,c(6,11,15)], id.vars = "hour")
alum_melt5 <- melt(alum_data[,c(3:4,15)], id.vars = "hour")
alum_melt6 <- melt(alum_data[,c(5,7,12,14,15)], id.vars = "hour")
ferr_melt1 <- melt(alum_data[,c(8,15)], id.vars = "hour")
ferr_melt2 <- melt(alum_data[,c(13,15)], id.vars = "hour")
ferr_melt3 <- melt(alum_data[,c(9:10,15)], id.vars = "hour")
ferr_melt4 <- melt(alum_data[,c(6,11,15)], id.vars = "hour")
ferr_melt5 <- melt(alum_data[,c(3:4,15)], id.vars = "hour")
ferr_melt6 <- melt(alum_data[,c(5,7,12,14,15)], id.vars = "hour")
ggplot(alum_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt2) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt3) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt4) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt5) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt6) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt2) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt3) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt4) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt5) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt6) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
# the percent change in op levels
ferr_diff_pct <- (ferr_data$op_mg_p_l - ferr_data$op_conc_mg_p_l_hourly)/ferr_data$op_mg_p_l * 100
alum_diff_pct <- (alum_data$op_mg_p_l - alum_data$op_conc_mg_p_l_hourly)/alum_data$op_mg_p_l * 100
# shows that alum can be concluded as better
t.test(alum_diff_pct, ferr_diff_pct)
# thursday plot 1
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = 0, ymax = 2.5),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
rects1 <- data.frame(xstart = as.POSIXct('2019-11-06 15:00:00'),
xend = as.POSIXct('2019-12-01 00:00:00'))
# thursday plot 1
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = 0, ymax = 2.5),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
# thursday plot 1
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = -Inf, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
library(latex2exp)
library(reshape2)
# make sure src is the current working directory
load("../data/final-data.rda")
load("../data/boulderMoWater.rda")
# display the number of observations for each type of coagulant
table(final_data$coagulant)
# average was found by hour maybe do a moving average instead?
# time series plots
ts.plot(alum_data$op_conc_mg_p_l_hourly)
alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
# gap in november looking at this variable at original time scale no average
alumphos <- phosfax_10m %>% # phosfax only alum coagulant every 10 minutes
filter(date >= ymd("2019-10-22")) %>%
filter(date <= ymd("2019-12-15"))
rects1 <- data.frame(xstart = as.POSIXct('2019-11-06 15:00:00'),
xend = as.POSIXct('2019-12-01 00:00:00'))
# thursday plot 1
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = -Inf, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
# comparing this to above we see 11/18 - 11/25 our merged data doesnt exist. a lot of outliers in this time period > 2
# what occured between 08/28 - 09/02
ts.plot(ferr_data$op_conc_mg_p_l_hourly)
ferr_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Ferric OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate (mg/L)") +
theme(plot.title = element_text(face="bold"))
# under origina time scale we see the same issue occuring
ferrphos <- phosfax_10m %>%
filter(date >= ymd("2019-08-15")) %>%
filter(date <= ymd("2019-09-07"))
rects2 <- data.frame(xstart = as.POSIXct('2019-08-30 15:00:00'),
xend = as.POSIXct('2019-09-02 10:00:00'))
ferrphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Ferric Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects2, aes(xmin = xstart, xmax = xend,
ymin = -0.15, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
ferrphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Ferric Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects2, aes(xmin = xstart, xmax = xend,
ymin = -Inf, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
setwd("~/Desktop/MoWater/boulder/src")
setwd("~/Desktop/MoWater/boulder/src")
install.packages("gridExtra")
install.packages("gridExtra")
library(gridExtra)
p1 <- ts.plot(alum_data$op_conc_mg_p_l_hourly)
p1 <- ts.plot(alum_data$op_conc_mg_p_l_hourly)
p2 <- alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
p2 <- alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
#knitr::knit_hooks$set(document = function(x) {sub('\\usepackage[]{color}', '\\usepackage[table,dvipsnames]{xcolor}', x, fixed = TRUE)})
knitr::opts_chunk$set(echo = FALSE,comment = NA, warning = FALSE, message = FALSE, cache = TRUE)
setwd("~/Desktop/MoWater/boulder/src")
rm( list = ls() )
library(tidyverse)
library(fields)
library(lubridate)
library(latex2exp)
library(reshape2)
library(gridExtra)
# make sure src is the current working directory
load("../data/final-data.rda")
load("../data/boulderMoWater.rda")
table(final_data$coagulant)
ts.plot(alum_data$op_conc_mg_p_l_hourly)
p2 <- alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
alumphos <- phosfax_10m %>% # phosfax only alum coagulant every 10 minutes
filter(date >= ymd("2019-10-22")) %>%
filter(date <= ymd("2019-12-15"))
rects1 <- data.frame(xstart = as.POSIXct('2019-11-06 15:00:00'),
xend = as.POSIXct('2019-12-01 00:00:00'))
####### thursday plot 1
alumphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Alum Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects1, aes(xmin = xstart, xmax = xend,
ymin = -Inf, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
ts.plot(ferr_data$op_conc_mg_p_l_hourly)
ferr_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Ferric OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate (mg/L)") +
theme(plot.title = element_text(face="bold"))
ferrphos <- phosfax_10m %>%
filter(date >= ymd("2019-08-15")) %>%
filter(date <= ymd("2019-09-07"))
rects2 <- data.frame(xstart = as.POSIXct('2019-08-30 15:00:00'),
xend = as.POSIXct('2019-09-02 10:00:00'))
#### thursday plot 2
ferrphos %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l), size=1.25) +
labs(title = "Ferric Effluent OP 10-minute Intervals",
x = "Date",
y = "Ortho-phosphate (mg/L)") +
geom_rect(data = rects2, aes(xmin = xstart, xmax = xend,
ymin = -Inf, ymax = Inf),fill = "red",col = "red", alpha = 0.1) +
theme(plot.title = element_text(face="bold"))
par(mfrow = c(1,2))
ferr_data %>% ggplot() +
geom_point(aes(date, op_mg_p_l), col = "blue") +
geom_point(aes(date, op_conc_mg_p_l_hourly), col = "red")
alum_data %>% ggplot() +
geom_point(aes(date, op_mg_p_l), col = "blue") +
geom_point(aes(date, op_conc_mg_p_l_hourly), col = "red")
final_data %>% ggplot() +
geom_point(aes(op_mg_p_l, op_conc_mg_p_l_hourly))
ferr_data <- ferr_data %>% mutate(hour = hour(date))
alum_data <- alum_data %>% mutate(hour = hour(date))
alum_melt1 <- melt(alum_data[,c(8,15)], id.vars = "hour")
alum_melt2 <- melt(alum_data[,c(13,15)], id.vars = "hour")
alum_melt3 <- melt(alum_data[,c(9:10,15)], id.vars = "hour")
alum_melt4 <- melt(alum_data[,c(6,11,15)], id.vars = "hour")
alum_melt5 <- melt(alum_data[,c(3:4,15)], id.vars = "hour")
alum_melt6 <- melt(alum_data[,c(5,7,12,14,15)], id.vars = "hour")
ferr_melt1 <- melt(alum_data[,c(8,15)], id.vars = "hour")
ferr_melt2 <- melt(alum_data[,c(13,15)], id.vars = "hour")
ferr_melt3 <- melt(alum_data[,c(9:10,15)], id.vars = "hour")
ferr_melt4 <- melt(alum_data[,c(6,11,15)], id.vars = "hour")
ferr_melt5 <- melt(alum_data[,c(3:4,15)], id.vars = "hour")
ferr_melt6 <- melt(alum_data[,c(5,7,12,14,15)], id.vars = "hour")
ggplot(alum_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt2) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt3) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt4) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt5) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(alum_melt6) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt2) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt3) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt4) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt5) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ggplot(ferr_melt6) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank())
ferr_diff_pct <- (ferr_data$op_mg_p_l - ferr_data$op_conc_mg_p_l_hourly)/ferr_data$op_mg_p_l * 100
alum_diff_pct <- (alum_data$op_mg_p_l - alum_data$op_conc_mg_p_l_hourly)/alum_data$op_mg_p_l * 100
# shows that alum can be concluded as better
t.test(alum_diff_pct, ferr_diff_pct)
p2 <- alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold"))
grid.arrange(p1,p2)
p1 <- ts.plot(alum_data$op_conc_mg_p_l_hourly)
grid.arrange(p1,p2)
grid.arrange(p1,p2, top = "")
p1 <- alum_data %>% ggplot(aes(x = date(date), y = op_conc_mg_p_l_hourly)) +
geom_line() + scale_x_date(date_labels = "%Y-%m-%d")
p1
p1 <- alum_data %>% ggplot(aes(x = date(date), y = op_conc_mg_p_l_hourly)) +
geom_line() + scale_x_date(date_labels = "%Y-%m-%d") + geom_point(col = "red")
p1
p1 <- alum_data %>% ggplot() +
geom_point(aes(date, op_conc_mg_p_l_hourly)) +
labs(title = "Alum OP Hourly",
x = "Date",
y = "Hourly Ortho-phosphate") +
theme(plot.title = element_text(face="bold", size = 9),
axis.text = element_text(size = 6),
axis.title = element_text(size = 8))
p1
ggplot(alum_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour), labeller = c("8")) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
legend.title = element_text(size = 8),
legend.text = element_text(size = 7),
plot.title = element_text(face="bold", size = 9, hjust = 0.5),
axis.text = element_text(size = 6),
axis.title = element_text(size = 8))
ggplot(alum_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour), labeller = labeller(c("8"))) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
legend.title = element_text(size = 8),
legend.text = element_text(size = 7),
plot.title = element_text(face="bold", size = 9, hjust = 0.5),
axis.text = element_text(size = 6),
axis.title = element_text(size = 8))
hours <- c("8" = "Hour 8", "9" = "Hour 9", "10" = "Hour 10", "11" = "Hour 11", "12" = "Hour 12",
"13" = "Hour 13", "14" = "Hour 14","15" = "Hour 15","16" = "Hour 16","17" = "Hour 17","18" = "Hour 18")
ggplot(alum_melt1) +
geom_boxplot(aes(y=value, fill=variable), outlier.size = 0.5, outlier.color = "red") +
facet_wrap(vars(hour), labeller = labeller(hour = hours)) +
theme(axis.title.x = element_blank(),
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
legend.title = element_text(size = 8),
legend.text = element_text(size = 7),
plot.title = element_text(face="bold", size = 9, hjust = 0.5),
axis.text = element_text(size = 6),
axis.title = element_text(size = 8))
